[**@sundaeswap/math**](../../../README.md) • **Docs**

***

# Function: calculateLiquidity()

> **calculateLiquidity**(`a`, `b`, `aReserve`, `bReserve`, `totalLp`): `object`

Calculate the Add (Mixed-Deposit) Liquidity parameters

## Parameters

• **a**: `bigint`

The amount of token A to deposit.

• **b**: `bigint`

The amount of token B to deposit.

• **aReserve**: `bigint`

The current reserve of token A in the pool.

• **bReserve**: `bigint`

The current reserve of token B in the pool.

• **totalLp**: `bigint`

The total lp tokens for the pool before the deposit.

## Returns

`object`

An object containing:
  - nextTotalLp: The total lp tokens for the pool after the deposit.
  - generatedLp: The amount of lp tokens generated by the deposit.
  - shareAfterDeposit: The depositor's share of the pool after the deposit.

### aChange

> **aChange**: `bigint`

### actualDepositedA

> **actualDepositedA**: `bigint`

### actualDepositedB

> **actualDepositedB**: `bigint`

### bChange

> **bChange**: `bigint`

### generatedLp

> **generatedLp**: `bigint` = `newLpTokens`

### nextTotalLp

> **nextTotalLp**: `bigint` = `newTotalLpTokens`

### shareAfterDeposit

> **shareAfterDeposit**: `Fraction`

## Throws

If the pool doesn't have enough liquidity.

## Throws

If either of the deposit amounts is zero.

## Defined in

[ConstantProductPool.ts:72](https://github.com/SundaeSwap-finance/sundae-sdk/blob/main/packages/math/src/PoolMath/ConstantProductPool.ts#L72)
